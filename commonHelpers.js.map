{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["const API_KEY = '32445891-4e5aca6c6794ec22921e6fc5b';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nfunction showLoader() {\n  loader.style.display = 'inline-block';\n}\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\nconst galleryLightbox = new SimpleLightbox('.gallery_list a', {\n  captions: true,\n  captionType: 'attr',\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n\nfunction render(images) {\n  const markup = images.hits.reduce(\n    (\n      html,\n      { webformatURL, largeImageURL, tags, likes, views, comments, downloads }\n    ) =>\n      html +\n      `\n         <li class='gallery_list'>\n          <a href=\"${largeImageURL}\"><img class='gallery_img'src=\"${webformatURL}\" alt=\"${tags}\" /></a>\n          <p class='gallery_info'>Likes <span>${likes}</span></p>\n          <p class='gallery_info'>Views <span>${views}</span></p>\n          <p class='gallery_info'>Comments <span>${comments}</span></p>\n          <p class='gallery_info'>Downloads <span>${downloads}</span></p>\n        </li>`,\n    ''\n  );\n\n  gallery.innerHTML = markup;\n\n  galleryLightbox.refresh();\n}\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const inputValue = form.querySelector('.form_input').value;\n\n  gallery.innerHTML = '';\n  showLoader();\n  fetch(\n    'https://pixabay.com/api/?key=' +\n      API_KEY +\n      '&q=' +\n      inputValue +\n      '&image_type=photo&orientation=horizontal&safesearch=true&per_page=50'\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Error');\n      }\n      return response.json();\n    })\n    .then(images => {\n      hideLoader();\n      if (!images.total) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      }\n      render(images);\n    })\n    .catch(error => {\n      hideLoader();\n      console.log(error);\n    });\n});\n"],"names":["API_KEY","form","gallery","loader","showLoader","hideLoader","galleryLightbox","SimpleLightbox","render","images","markup","html","webformatURL","largeImageURL","tags","likes","views","comments","downloads","e","inputValue","response","iziToast","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCAQVC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,GAAa,CACpBD,EAAO,MAAM,QAAU,cACzB,CACA,SAASE,GAAa,CACpBF,EAAO,MAAM,QAAU,MACzB,CACA,MAAMG,EAAkB,IAAIC,EAAe,kBAAmB,CAC5D,SAAU,GACV,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAED,SAASC,EAAOC,EAAQ,CACtB,MAAMC,EAASD,EAAO,KAAK,OACzB,CACEE,EACA,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAExEP,EACA;AAAA;AAAA,qBAEeE,mCAA+CD,WAAsBE;AAAA,gDAC1CC;AAAA,gDACAC;AAAA,mDACGC;AAAA,oDACCC;AAAA,eAEhD,EACJ,EAEEhB,EAAQ,UAAYQ,EAEpBJ,EAAgB,QAAO,CACzB,CAEAL,EAAK,iBAAiB,SAAUkB,GAAK,CACnCA,EAAE,eAAc,EAEhB,MAAMC,EAAanB,EAAK,cAAc,aAAa,EAAE,MAErDC,EAAQ,UAAY,GACpBE,IACA,MACE,gCACEJ,EACA,MACAoB,EACA,sEACH,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,OAAO,EAEzB,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKZ,GAAU,CACdJ,IACKI,EAAO,OACVa,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EAEHd,EAAOC,CAAM,CACnB,CAAK,EACA,MAAMc,GAAS,CACdlB,IACA,QAAQ,IAAIkB,CAAK,CACvB,CAAK,CACL,CAAC"}